{"version":3,"sources":["components/Blog.js","components/Footer.js","components/Notification.js","components/BlogForm.js","components/Togglable.js","components/LoginForm.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Blog","blog","updateLikes","deleteBlog","useState","details","setDetails","updateBlog","event","a","preventDefault","likes","className","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","target","href","url","title","author","onClick","user","name","Footer","color","fontStyle","fontSize","Notification","props","message","type","BlogForm","createBlog","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","onSubmit","value","onChange","Togglable","React","forwardRef","ref","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","LoginForm","handleSubmit","username","setUsername","password","setPassword","baseUrl","token","create","newObject","config","headers","Authorization","axios","post","response","data","getAll","get","update","id","put","remove","delete","setToken","newToken","login","credentials","App","blogs","setBlogs","notificationMessage","setNotificationMessage","notificationType","setNotificationType","setUser","blogFormRef","useRef","useEffect","loggedUserJSON","window","sessionStorage","getItem","JSON","parse","blogService","notify","addBlog","blogObject","current","returnedBlog","concat","filter","b","console","log","find","x","handleLogin","userObject","loginService","setItem","stringify","loginForm","setTimeout","blogsToShow","sort","removeItem","map","i","key","ReactDOM","render","_id","__v","document","getElementById"],"mappings":"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","file":"static/js/main.270ae727.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nconst Blog = ({ blog, updateLikes, deleteBlog }) => {\r\n  const blogStyle = {\r\n    paddingTop: 10,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    marginBottom: 5,\r\n  };\r\n\r\n  const [details, setDetails] = useState(false);\r\n  const [likes, setLikes] = useState('');\r\n\r\n  const updateBlog = async (event) => {\r\n    event.preventDefault();\r\n    blog.likes++;\r\n    await updateLikes(blog);\r\n  };\r\n\r\n  const handleDeletion = (event) => {\r\n    event.preventDefault();\r\n    deleteBlog(blog);\r\n  };\r\n\r\n  return (\r\n    <div className=\"blog\" style={blogStyle}>\r\n      <a target=\"_blank\" href={blog.url}>\r\n        {blog.title} by {blog.author}\r\n      </a>\r\n\r\n      <button onClick={() => setDetails(!details)}>\r\n        {details ? 'hide' : 'show'}\r\n      </button>\r\n      <button onClick={handleDeletion}> Delete </button>\r\n\r\n      {details === false ? (\r\n        ''\r\n      ) : (\r\n        <div>\r\n          <p>added by {blog.user === null ? '' : blog.user.name}</p>\r\n          <p>\r\n            likes {blog.likes === null ? '' : blog.likes}\r\n            <button onClick={updateBlog}> Like </button>\r\n          </p>\r\n          <p>url {blog.url}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Blog;\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'green',\r\n    fontStyle: 'italic',\r\n    fontSize: 16\r\n  }\r\n\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <em>BlogList app, from Andrei to Andrei</em>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nconst Notification = (props) => {\r\n  if (props.message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={props.type}>{props.message}</div>;\r\n};\r\n\r\nexport default Notification","import React, { useState } from 'react';\r\n\r\nconst BlogForm = ({ createBlog }) => {\r\n  const [newTitle, setNewTitle] = useState('title...');\r\n  const [newAuthor, setNewAuthor] = useState('author...');\r\n  const [newUrl, setNewUrl] = useState('url...');\r\n\r\n  const handleBlogAuthorChange = (event) => {\r\n    setNewAuthor(event.target.value);\r\n  };\r\n\r\n  const handleBlogTitleChange = (event) => {\r\n    setNewTitle(event.target.value);\r\n  };\r\n\r\n  const handleBlogUrlChange = (event) => {\r\n    setNewUrl(event.target.value);\r\n  };\r\n\r\n  const addBlog = (event) => {\r\n    event.preventDefault();\r\n\r\n    createBlog({\r\n      title: newTitle,\r\n      author: newAuthor,\r\n      url: newUrl\r\n    });\r\n\r\n    setNewTitle('');\r\n    setNewAuthor('');\r\n    setNewUrl('');\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <h2>Create a new blog</h2>\r\n\r\n      <form onSubmit={addBlog}>\r\n        <input value={newAuthor} onChange={handleBlogAuthorChange} />\r\n        <input value={newTitle} onChange={handleBlogTitleChange} />\r\n        <input value={newUrl} onChange={handleBlogUrlChange} />\r\n        <button type=\"submit\">save</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogForm;\r\n","import React, { useState, useImperativeHandle } from 'react';\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' };\r\n  const showWhenVisible = { display: visible ? '' : 'none' };\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible);\r\n  };\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility,\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <button onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Togglable;\r\n","import React, { useState } from 'react';\r\n\r\nconst LoginForm = ({ handleSubmit }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleUsernameChange = (event) => {\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const createUser = (event) => {\r\n    event.preventDefault();\r\n\r\n    handleSubmit({\r\n      username,\r\n      password\r\n    });\r\n\r\n    setUsername('');\r\n    setPassword('');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Login</h2>\r\n\r\n      <form onSubmit={createUser}>\r\n        <div>\r\n          username\r\n          <input value={username} onChange={handleUsernameChange} />\r\n        </div>\r\n        <div>\r\n          password\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={handlePasswordChange}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import axios from 'axios';\nconst baseUrl = '/api/blogs';\n\nlet token = null;\nconst setToken =  (newToken) => {\n  token =  `bearer ${newToken}`;\n};\n\nconst get = (id) => {\n  const request = axios.get(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst create = async (newObject) => {\n  const config = { headers: { Authorization: token } };\n  const response = await axios.post(baseUrl, newObject, config);\n\n  return response.data;\n};\n\nconst getAll = async () => {\n  const config = { headers: { Authorization: token } };\n  const response = await axios.get(baseUrl, config);\n\n  return response.data;\n};\n\nconst update = async (id, newObject) => {\n  const config = { headers: { Authorization: token } };\n\n  const response =  await axios.put(`${baseUrl}/${id}`, newObject, config);\n  return response.data;\n};\n\nconst remove = async (id) => {\n  const config = { headers: { Authorization: token } };\n\n  const response =  await axios.delete(`${baseUrl}/${id}`, config);\n  return response.data;\n};\n\n\nexport default { getAll, create, update, remove, setToken };\n","import axios from 'axios';\r\nconst baseUrl = '/api/login';\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  return response.data;\r\n};\r\n\r\nexport default { login };\r\n","import React, { useState, useEffect, useRef } from 'react';\n\nimport Blog from './components/Blog';\nimport Footer from './components/Footer';\nimport Notification from './components/Notification';\nimport BlogForm from './components/BlogForm';\nimport Togglable from './components/Togglable';\nimport LoginForm from './components/LoginForm';\n\nimport blogService from './services/blogs';\nimport loginService from './services/login';\n\nconst App = (props) => {\n  const [blogs, setBlogs] = useState(props.blogs);\n  const [showAll, setShowAll] = useState(true);\n  const [notificationMessage, setNotificationMessage] = useState('');\n  const [notificationType, setNotificationType] = useState('');\n  const [user, setUser] = useState(null);\n\n  const blogFormRef = useRef();\n\n  useEffect(() => {\n    const loggedUserJSON = window.sessionStorage.getItem('loggedBlogAppUser');\n\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n\n      setUser(user);\n      blogService.setToken(user.token);\n    }\n  }, []);\n\n  useEffect(async () => {\n    try {\n      const blogs = await blogService.getAll();\n      setBlogs(blogs);\n    } catch (e) {\n      notify(`Blog viewing failed with exception: ${e}`, 'error');\n    }\n  }, []);\n\n  const addBlog = async (blogObject) => {\n    blogFormRef.current.toggleVisibility();\n\n    try {\n      const returnedBlog = await blogService.create(blogObject);\n\n      setBlogs(blogs.concat(returnedBlog));\n\n      notify(`Blog added with success`, 'success');\n    } catch (exception) {\n      notify(`Blog addition failed with exception: ${exception}`, 'error');\n    }\n  };\n\n  const deleteBlog = async (blog) => {\n    try {\n      await blogService.remove(blog.id);\n\n      setBlogs(blogs.filter((b) => b.id !== blog.id));\n\n      notify(`I didn't like ${blog.author} either`, 'success');\n    } catch (exception) {\n      notify(`This is not your right to delete`, 'error');\n    }\n  };\n\n  const blogForm = () => (\n    <Togglable buttonLabel=\"new blog\" ref={blogFormRef}>\n      <BlogForm createBlog={addBlog} />\n    </Togglable>\n  );\n\n  const updateBlog = async (newObject) => {\n    console.log(`APP.JS button clicked and likes ${newObject.likes}`);\n\n    try {\n      const returnedBlog = await blogService.update(newObject.id, newObject);\n\n      blogs.find((x) => x.id === newObject.id).likes++;\n      setBlogs(blogs);\n\n      notify(`Good choice`, 'success');\n    } catch (exception) {\n      notify(`Couldn't increase the likes: ${exception}`, 'error');\n    }\n  };\n\n  const handleLogin = async (userObject) => {\n    const username = userObject.username;\n    const password = userObject.password;\n\n    try {\n      const user = await loginService.login({\n        username,\n        password,\n      });\n\n      window.sessionStorage.setItem('loggedBlogAppUser', JSON.stringify(user));\n\n      blogService.setToken(user.token);\n      setUser(user);\n\n      notify(`Welcome in you dear ${user.name}`, 'success');\n    } catch (exception) {\n      notify(`wrong user name or password`, 'error');\n    }\n  };\n\n  const loginForm = () => {\n    return (\n      <Togglable buttonLabel=\"login\">\n        <LoginForm handleSubmit={handleLogin} />\n      </Togglable>\n    );\n  };\n\n  const logout = () => {\n    window.sessionStorage.removeItem('loggedBlogAppUser');\n\n    notify(`Bye, ${user.name}`, 'success');\n\n    blogService.setToken(null);\n    setUser(null);\n    loginForm();\n  };\n\n  const notify = (notificationMessage, notificationType) => {\n    setNotificationMessage(notificationMessage);\n    setNotificationType(notificationType);\n\n    setTimeout(() => {\n      setNotificationMessage('');\n      setNotificationType('');\n    }, 5000);\n  };\n\n  const blogsToShow = blogs.sort(function (a, b) {\n    return b.likes - a.likes;\n  });\n\n  const extendAll = () => { \n    return console.log(blogs);\n  }\n\n  return (\n    <div>\n      <h1>Blogs</h1>\n      <Notification message={notificationMessage} type={notificationType} />\n\n      {user === null ? (\n        loginForm()\n      ) : (\n        <div>\n          <p>\n            {user.name} logged in\n            <button onClick={() => logout()}> logout </button>\n          </p>\n          {blogForm()}\n          {blogs === null ? '' : <button onClick={ () => extendAll()}> ShowAll </button> }\n        </div>\n      )}\n\n      <ul>\n        {blogsToShow.map((blog, i) => (\n          <Blog\n            key={i}\n            blog={blog}\n            updateLikes={updateBlog}\n            deleteBlog={deleteBlog}\n          />\n        ))}\n      </ul>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css';\n\nconst initialUsers = [\n    {\n      _id: '5f29184ec0762454b8be7312',\n      username: 'pirvandrei',\n      name: 'Andrei',\n      passwordHash:\n        '$2b$10$VLzurjVQ4P1GfG4Qd8.H0.Y4hHOxjM7DrI1Hgsbpkj1mqFrVpFPSG',\n      __v: 5,\n      blogs: [\n        '5f2acd68e52498806c2f4968',\n        '5f2ad3be70b1928b18f2aecf',\n        '5f2ad42370b1928b18f2aed0',\n      ],\n    },\n    {\n      _id: '5f291884c0762454b8be7313',\n      username: 'pirvandreea',\n      name: 'Andreea',\n      passwordHash:\n        '$2b$10$2ED353q8f0XAQLmuolqYqu1fICR8nlNFM2DYjsyapcxf9FrN6lOQm',\n      __v: 1,\n    },\n    {\n      _id: '5f2ae6d8f7c5a27a1858ad53',\n      blogs: [],\n      name: 'root',\n      username: 'root',\n      passwordHash:\n        '$2b$10$L7Ho30FbCriaqx8uGCY6Mu78VBo.7hkyOUPomMj5s1fBTcQAgQsES',\n      __v: 0,\n    },\n  ];\n  \n  const initialBlogs = [\n    {\n      _id: '5a422a851b54a676234d17f7',\n      title: 'React patterns',\n      author: 'Michael Chan',\n      url: 'https://reactpatterns.com/',\n      likes: 7,\n      user: '5f291884c0762454b8be7313',\n      __v: 0,\n    },\n    {\n      _id: '5a422aa71b54a676234d17f8',\n      title: 'Go To Statement Considered Harmful',\n      author: 'Edsger W. Dijkstra',\n      url:\n        'http://www.u.arizona.edu/~rubinson/copyright_violations/Go_To_Considered_Harmful.html',\n      likes: 5,\n      user: '5f2ae6d8f7c5a27a1858ad53',\n      __v: 0,\n    },\n    {\n      _id: '5a422b3a1b54a676234d17f9',\n      title: 'Canonical string reduction',\n      author: 'Edsger W. Dijkstra',\n      url: 'http://www.cs.utexas.edu/~EWD/transcriptions/EWD08xx/EWD808.html',\n      likes: 12,\n      user: '5f291884c0762454b8be7313',\n      __v: 0,\n    },\n    {\n      _id: '5a422b891b54a676234d17fa',\n      title: 'First class tests',\n      author: 'Robert C. Martin',\n      url:\n        'http://blog.cleancoder.com/uncle-bob/2017/05/05/TestDefinitions.htmll',\n      likes: 10,\n      user: '5f29184ec0762454b8be7312',\n      __v: 0,\n    },\n    {\n      _id: '5a422ba71b54a676234d17fb',\n      title: 'TDD harms architecture',\n      author: 'Robert C. Martin',\n      url:\n        'http://blog.cleancoder.com/uncle-bob/2017/03/03/TDD-Harms-Architecture.html',\n      likes: 0,\n      user: '5f29184ec0762454b8be7312',\n      __v: 0,\n    },\n    {\n      _id: '5a422bc61b54a676234d17fc',\n      title: 'Type wars',\n      author: 'Robert C. Martin',\n      url: 'http://blog.cleancoder.com/uncle-bob/2016/05/01/TypeWars.html',\n      likes: 2,\n      user: '5f29184ec0762454b8be7312',\n      __v: 0,\n    },\n  ];\nReactDOM.render(<App blogs = { initialBlogs }/>, document.getElementById('root'))"],"sourceRoot":""}