{"version":3,"sources":["components/Blog.js","components/Footer.js","components/Notification.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Blog","blog","className","target","href","url","title","author","user","name","Footer","style","color","fontStyle","fontSize","Notification","props","message","type","token","getAll","a","config","headers","Authorization","axios","get","response","data","create","newObject","post","update","id","put","then","setToken","newToken","login","credentials","App","useState","blogs","setBlogs","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","notificationMessage","setNotificationMessage","notificationType","setNotificationType","username","setUsername","password","setPassword","setUser","useEffect","loggedUserJSON","window","localStorage","getItem","JSON","parse","blogService","setTimeout","addBlog","event","preventDefault","blogObject","returnedBlog","concat","handleLogin","loginService","setItem","stringify","handleBlogAuthorChange","value","handleBlogTitleChange","handleBlogUrlChange","loginForm","onSubmit","onChange","onClick","removeItem","map","i","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.450ef4d0.chunk.js","sourcesContent":["import React from 'react'\r\nconst Blog = ({ blog }) => (\r\n  <div className = 'blog'>\r\n    <a target=\"_blank\" href={blog.url}> {blog.title} by {blog.author} </a>\r\n     added by {blog.user === null ? '' : blog.user.name}\r\n  </div>\r\n)\r\n\r\nexport default Blog\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'green',\r\n    fontStyle: 'italic',\r\n    fontSize: 16\r\n  }\r\n\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <em>BlogList app, from Andrei to Andrei</em>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nconst Notification = (props) => {\r\n  if (props.message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={props.type}>{props.message}</div>;\r\n};\r\n\r\nexport default Notification","import axios from 'axios';\nconst baseUrl = '/api/blogs';\n\nlet token = null;\nconst setToken =  (newToken) => {\n  token =  `bearer ${newToken}`;\n};\n\nconst get = (id) => {\n  const request = axios.get(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst getAll = async () => {\n  const config = { headers: { Authorization: token } };\n  const response = await axios.get(baseUrl, config);\n\n  return response.data;\n};\n\nconst create = async (newObject) => {\n  const config = { headers: { Authorization: token } };\n  const response = await axios.post(baseUrl, newObject, config);\n\n  return response.data;\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, setToken };\n","import axios from 'axios';\r\nconst baseUrl = '/api/login';\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  return response.data;\r\n};\r\n\r\nexport default { login };\r\n","import React, { useState, useEffect } from 'react';\n\nimport Blog from './components/Blog';\nimport Footer from './components/Footer';\nimport Notification from './components/Notification';\n\nimport blogService from './services/blogs';\nimport loginService from './services/login';\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([]);\n  const [showAll, setShowAll] = useState(true);\n\n  // const [newBlog, setNewBlog] = useState({});\n  const [newTitle, setNewTitle] = useState('title...');\n  const [newAuthor, setNewAuthor] = useState('author...');\n  const [newUrl, setNewUrl] = useState('url...');\n\n  const [notificationMessage, setNotificationMessage] = useState('');\n  const [notificationType, setNotificationType] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser');\n\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n\n      setUser(user);\n      blogService.setToken(user.token);\n    }\n  }, []);\n\n  useEffect(async () => {\n    try {\n      const blogs = await blogService.getAll();\n      setBlogs(blogs);\n    } catch (e) {\n      setNotificationMessage(`Blog viewing failed with exception: ${e}`);\n      setNotificationType('error');\n\n      setTimeout(() => {\n        setNotificationMessage('');\n        setNotificationType('');\n      }, 5000);\n    }\n  }, []);\n\n  const addBlog = async (event) => {\n    event.preventDefault();\n\n    const blogObject = {\n      title: newTitle,\n      author: newAuthor,\n      url: newUrl,\n      user: user,\n    };\n\n    try {\n      const returnedBlog = await blogService.create(blogObject);\n\n      setBlogs(blogs.concat(returnedBlog));\n      setNewTitle('');\n      setNewAuthor('');\n      setNewUrl('');\n\n      setNotificationMessage(`Blog added with success`);\n      setNotificationType('success');\n\n      setTimeout(() => {\n        setNotificationMessage('');\n        setNotificationType('');\n      }, 5000);\n    } catch (exception) {\n      setNotificationMessage(\n        `Blog addition failed with exception: ${exception}`\n      );\n      setNotificationType('error');\n\n      setTimeout(() => {\n        setNotificationMessage('');\n        setNotificationType('');\n      }, 5000);\n    }\n  };\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n\n    try {\n      const user = await loginService.login({\n        username,\n        password,\n      });\n\n      window.localStorage.setItem('loggedBlogAppUser', JSON.stringify(user));\n\n      blogService.setToken(user.token);\n      setUser(user);\n      setUsername('');\n      setPassword('');\n\n      setNotificationMessage(`Welcome in you dear ${user.name}`);\n      setNotificationType('success');\n\n      setTimeout(() => {\n        setNotificationMessage('');\n        setNotificationType('');\n      }, 5000);\n    } catch (exception) {\n      setNotificationMessage(`wrong user name or password`);\n      setNotificationType('error');\n      setTimeout(() => {\n        setNotificationMessage('');\n        setNotificationType('');\n      }, 5000);\n    }\n  };\n\n  const handleBlogAuthorChange = (event) => {\n    setNewAuthor(event.target.value);\n  };\n\n  const handleBlogTitleChange = (event) => {\n    setNewTitle(event.target.value);\n  };\n\n  const handleBlogUrlChange = (event) => {\n    setNewUrl(event.target.value);\n  };\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n      <div>\n        username\n        <input\n          type=\"text\"\n          value={username}\n          name=\"Username\"\n          onChange={({ target }) => setUsername(target.value)}\n        />\n      </div>\n      <div>\n        password\n        <input\n          type=\"password\"\n          value={password}\n          name=\"Password\"\n          onChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  );\n\n  const blogForm = () => (\n    <form onSubmit={addBlog}>\n      <input value={newAuthor} onChange={handleBlogAuthorChange} />\n      <input value={newTitle} onChange={handleBlogTitleChange} />\n      <input value={newUrl} onChange={handleBlogUrlChange} />\n      <button type=\"submit\">save</button>\n    </form>\n  );\n\n  const logout = () => {\n    window.localStorage.removeItem('loggedBlogAppUser');\n\n    setNotificationMessage(`Bye, ${user.name}`);\n    setNotificationType('success');\n\n    setTimeout(() => {\n      setNotificationMessage('');\n      setNotificationType('');\n    }, 5000);\n\n    blogService.setToken(null);\n    setUser(null);\n    loginForm();\n  };\n\n  return (\n    <div>\n      <h1>Blogs</h1>\n      <Notification message={notificationMessage} type={notificationType} />\n\n      {user === null ? (\n        loginForm()\n      ) : (\n        <div>\n          <p>\n            {user.name} logged in\n            <button onClick={() => logout()}> logout </button>\n          </p>\n          {blogForm()}\n\n          <ul>\n            {blogs.map((blog, i) => (\n              <Blog key={i} blog={blog} />\n            ))}\n          </ul>\n        </div>\n      )}\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}